plugins {
    id 'java-library'
    id "com.gorylenko.gradle-git-properties"
    id "com.github.johnrengelman.shadow"
}

task versionTxt()  {
    doFirst {
        new File(project.getProjectDir().absolutePath+'/src/main/resources', "cassandra-source-version.properties")
                .text = "$project.version\n"
    }
}

compileJava {
    dependsOn versionTxt
}

compileTestJava {
    options.compilerArgs += '-parameters'
}

dependencies {
    implementation "org.projectlombok:lombok:${lombokVersion}"
    annotationProcessor "org.projectlombok:lombok:${lombokVersion}"

    implementation("com.github.ben-manes.caffeine:caffeine:${caffeineVersion}")
    implementation("io.vavr:vavr:${vavrVersion}")
    implementation("com.datastax.oss:java-driver-core:${ossDriverVersion}")
    implementation("com.datastax.oss:java-driver-query-builder:${ossDriverVersion}")

    implementation("org.apache.kafka:connect-api:${kafkaVersion}")
    implementation("com.google.guava:guava:30.1-jre")
    //api("com.datastax.oss:messaging-connectors-commons-core:1.0.12-SNAPSHOT")
}



